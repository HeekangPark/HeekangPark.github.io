---
title: "[Node.js] require(), module.exports"
tags: ["node-js"]
date: "2021-01-16"
---

자바스크립트(Javascript)는 원래 웹 브라우저에서만 사용하던 언어였다. 그러나 개발자들은 웹 브라우저 밖에서도, 특히 서버를 개발할 때에도 자바스크립트를 쓸 수 있길 원했다.[^1] 이에 2009년 Kevin Dangoor라는 개발자의 주도로 웹 브라우저 밖에서도 자바스크립트를 사용할 수 있도록 표준을 만드는 CommonJS라는 프로젝트가 시작되었다.[^2] 그리고 (짐작했겠지만) 웹 브라우저 이외에서 자바스크립트를 사용하는 가장 유명한 플랫폼 중 하나인 Node.js는 CommonJS가 정의한 명세(Specification)에 따라 만들어졌다.

[^1]: 통상적으로 웹 서비스를 개발할 때는 사용자가 직접 마주할 부분을 개발하는 프론트엔드(Front-end)의 개발과 서비스가 원활하게 잘 돌아갈 수 있도록 서버 및 DB 등을 설계하는 백엔드(Back-end)의 개발이 필요하다. 그런데 프론트엔드 개발과 백엔드 개발은 주로 사용하는 언어부터 차이가 나기에(프론트엔드를 개발할 때는 주로 자바스크립트를, 백엔드를 개발할 때는 주로 자바, C#, PHP 등을 사용한다) 한 사람이 양쪽 모두를 다 하는 것이 꽤 어려웠다(이렇게 양쪽 모두를 할 줄 아는 개발자를 풀스택(Full-stack) 개발자라 한다). 하지만 만약 프론트엔드 개발자들이 능숙하게 다룰 수 있는 자바스크립트로 백엔드 작업도 할 수 있게 된다면 한 사람이 프론트엔드와 백엔드 모두를 개발할 수 있게 되므로 조금 더 효율적으로 개발을 할 수 있게 된다.
[^2]: 초기에는 ServerJS라는 이름을 사용했으나, 단순히 서버에서뿐만 아니라 더 범용적으로 쓸 수 있다는 것을 나타내기 위해 CommonJS로 개명한다.

자바스크립트가 웹 브라우저에서만 사용될 때는 긴 자바스크립트 코드를 짤 일이 거의 없었다. 복잡한 비즈니스 로직은 (자바, C#, PHP 등을 이용해) 서버에서 처리하고, 자바스크립트로는 주로 웹 페이지의 내용을 살짝 수정하는 정도의 짧은 코드만 작성했다. 하지만 브라우저 밖에서 범용적으로 자바스크립트를 사용할 수 있으려면 모듈을 분할하는 모듈화 기능이 반드시 필요하다. CommonJS가 가장 핵심적으로 정의한 기능이 바로 이 모듈화 기능이다.

Node.js에서 다른 모듈을 사용하려면 `module.exports`와 `require()`를 이용한다. 예를 들어, fs 라이브러리를 사용하려면 다음과 같이 하면 된다.

{% highlight javascript %}
const fs = require("fs");

fs.readFile("/some/path", function(err, data) {
    if (err) throw err;
    console.log(data);
})
{% endhighlight %}

npm