---
title: "네트워크 기초 (Network Basics)"
order: 2
date_created: "2020-07-12"
date_modified: "2020-07-12"
---

이 문서에서는 웹 서버 구축과 활용에 필요한 기본적인 네트워크 지식들을 다룬다.

# 네트워크 (Network)

네트워크란 두 대 이상의 컴퓨터[^1]들이 통신 기술[^2]을 이용하여 연결(connected)되어 있는 것을 말한다. 네트워크를 이용하면 연결된 다른 컴퓨터와 데이터를 주고받을 수도 있고, 다른 컴퓨터의 자원(resource)을 사용할 수도 있다.

[^1]: 노드(Node)라고도 부른다.
[^2]: 이더넷(Ethernet), 와이파이(Wi-Fi), 블루투스(Bluetooth) 등

## 네트워크 구조 (Topology)

네트워크를 구성할 때 노드들의 연결 방식(Topology)은 다양할 수 있다. 연결하는 모양에 따라 링 형(Ring Topology), 버스 형(Bus Topology), 별 형(Star Topology), 메쉬 형(Mesh Topology), 트리 형(Tree Topology), 하이브리드 형(Hybrid Topology) 등이 있다. 이 중 많이 사용하는 메쉬 형, 링 형, 버스 형, 별 형에 대해 알아보자.

### 메쉬 형 (Mesh Topology)

여러 노드들이 있을 때, 이들을 연결하는 가장 확실한 방법은 모든 노드들을 하니씩 직접 연결하는 것이다. 이런 연결 형태를 메쉬 형[^3]이라 한다.

[^3]: 망(罔) 형, 그물 형 등으로도 부른다.

{% include caption-img.html src="network-basics-mesh-topology.png" title="Fig.01 메쉬 형(Mesh Topology)" description="메쉬 형은 모든 노드들의 쌍을 직접(directly) 연결한 것이다." %}

일반적으로 몇몇 노드간의 연결이 빠져 있어도 네트워크가 적당히 그물처럼 연결되어 있으면 메쉬 형이라 부른다. 모든 노드들이 다 직접 연결되어 있는 경우 Full Mesh 혹은 Fully Connected, 몇몇 노드들의 연결이 빠져 있는 경우 Partial Mesh라 구별하기도 한다.

메쉬 형 네트워크에서는 출발지 노드에서 목적지 노드까지 여러 경로를 통해 갈 수 있기 때문에 어떤 경로를 선택해야 할 지가 중요한 문제가 된다. 이 문제를 라우팅(Routing)이라 부른다. 라우팅 알고리즘에는 RIP(Routing Information Protocol), BGP(Border Gateway Protocol), OSPF(Open Shortest Path First) 등 다양한 종류가 있다. 네트워크 관리자는 다양한 요소를 고려하여 적당한 라우팅 알고리즘을 네트워크에 적용하게 된다.

메쉬 형은 다른 네트워크 구조에 비해 구축 비용이 많이 들고, 높은 복잡도로 인해 관리가 어렵다. 하지만 어느 한 노드나 회선이 고장나더라도 작동을 보장할 수 있고[^4], 대용량의 데이터가 전송되더라도 병목 현상이 생기는 것을 최소화할 수 있다는 장점이 있다. 이러한 장점 때문에 대규모 백본 네트워크 등에서 주로 사용하는 네트워크 구조이다.

[^4]: 이런 시스템을 고가용성(High Availability), 무정지 시스템(Fail Over)이라 부른다.

### 링 형 (Ring Topology)

링 형[^5]은 노드들을 원형으로 연결한 연결 형태이다.

[^5]: 환(環) 형, 고리 형 등으로도 부른다.

{% include caption-img.html src="network-basics-ring-topology.png" title="Fig.02 링 형(Ring Topology)" description="링 형은 노드들을 원형으로 연결한 것이다." %}

링 형 네트워크에서 데이터는 일반적으로 한쪽 방향(시계방향 혹은 반시계 방향)으로만 흐른다. 각 노드는 이전 노드에서 보낸 데이터를 전부 수신한 후, 본인이 받아들여야 하는 데이터를 받아들이고(accept), 나머지 데이터를 본인이 보내야 하는 데이터와 함께 다음 노드로 전송하게 된다.[^6]

[^6]: 이렇게 신호를 수신, (증폭), 재전송하는 장치를 리피터(Repeater)라 한다. ~~마인크래프트에서 레드스톤 좀 만져봤다면 익숙할 것이다.~~

링 형은 다른 네트워크 구조에 비해 구축 비용이 저렴하고, 한 통신장치가 네트워크를 독점하여 사용할 수 없으므로 병목 현상이 잘 일어나지 않는다는 장점이 있다. 하지만 어느 한 노드나 회선이 고장나면 네트워크가 끊어지고, 네트워크 관리가 힘들다는 단점이 있다. 이러한 성질 때문에 링 형은 높은 네트워크 성능이 요구되고 안정성이 충분히 확보된 환경에서 주로 사용된다.

### 별 형 (Star Topology)

별 형[^7]은 모든 노드가 중앙의 한 노드와 직접 연결되어 있는 네트워크 구조이다. 이때 중앙 노드는 네트워크 전체를 관리하는 역할을 하게 된다.

[^7]: 성(星) 형, 중앙집중 형 등으로도 불린다.

{% include caption-img.html src="network-basics-star-topology.png" title="Fig.03 별 형(Star Topology)" description="별 형에서 노드들은 중앙 노드를 중심으로 연결되어 있다." %}

이 구조를 서버-클라이언트 구조라 하기도 하는데, 중앙 노드가 서버 역할을 하고, 나머지 노드들이 클라이언트가 되는 것이다.

서버 노드와 클라이언트 노드는 직접 연결되어 있으므로 둘 사이의 통신은 연결되어 있는 회선을 사용하여 진행된다. 클라이언트 노드 간 통신은 서버 노드를 경유해서 이루어지게 된다.

별 형은 다른 네트워크 구조에 비해 구축 비용이 저렴하고, 네트워크 관리가 쉽고, 한 클라이언트 노드가 고장나도 전체 네트워크에 영향이 없다는 장점이 있다. 하지만 중앙 노드로 트래픽이 몰리면 심한 병목 현상이 발생하고, 중앙 노드가 고장난다면 전체 네트워크가 고장난다는 단점이 있다. LAN이 보통 별 형으로 구현되는데, 이때 스위치 허브(Switch Hub)가 중앙 노드 역할을 하게 된다.

# 프로토콜 (Protocol)

두 사람이 정보를 주고받을 때는 언제, 어디서, 어떻게 정보를 주고받을 지 약속을 해야 한다. 하다못해 친구랑 쪽지를 주고받을 때도, 우리는 암묵적으로 다음과 같은 약속을 하고 있다.

{% include caption-img.html src="network-basics-note.png" title="Fig.04 쪽지" description="쪽지 하나를 주고받는 데도 우리는 많은 약속을 해야 한다." %}

- 언어는 두 사람 모두 알아들을 수 있는 언어를 사용한다.
- 두 사람 모두 알아들을 수 있는 형식(어순 등)으로 작성한다.
- 쪽지의 전달은 친구를 통해서 이루어진다.
- 쪽지 전달은 인접한 친구를 툭툭 친 후, 목적지 친구를 가리켜서 이루어진다.
- 10분 안에 전달한 쪽지에 대한 답이 오지 않으면 중간에서 쪽지가 유실되었다 판단하고 쪽지를 재전송한다.
- 정보는 입으로 발설하지 않고 종이(쪽지)에 써서 전달한다.
- 정보를 습득한 후에는 정보가 유출되지 않도록 잘 처리해서 폐기한다.

정보 통신에서도 마찬가지이다. 통신에 참여하는 기기들 간 통신이 원활히 잘 일어나기 위해서는 약속이 필요한데, 이러한 약속을 프로토콜(Protocol)이라 한다.

프로토콜에는 HTTP, TCP/IP, FTP, SSH 등 다양한 종류가 있다. 통신 상황에 맞게 적절한 프로토콜을 통신 주체들과 합의한 이후 사용하면 된다.

# 인터넷(Internet), 인트라넷(Intranet)

인터넷과 인트라넷은 단어가 비슷해 많이 헷갈리는 단어 중 하나이다. ~~인터넷 치다가 오타로 인트라넷 쳤다고 많이들 오해한다.~~

인터넷과 인트라넷은 TCP/IP 프로토콜을 기반으로 연결된 네트워크라는 공통점이 있다. TCP/IP 프로토콜에서 각 노드는 IP 주소(IP Address)라고 하는 고유한 주소값을 가진다. 따라서 인터넷과 인트라넷에서 접속하고 하는 컴퓨터의 IP 주소를 입력하면[^8] 해당 컴퓨터에 접속할 수 있다.

[^8]: 사실 일반적으로는 IP 주소(ex. 216.58.200.14)를 입력하기보다는 URL(Uniform Resource Locator)(ex. www.google.com)을 입력해 접속한다. 이는 URL을 IP 주소로 변환시켜주는 DNS(Domain Name System)라 하는 기술이 지원하는 기능이다. 따라서 실질적으로는 IP 주소를 이용해 접속하는 것이다.

인터넷은 전 세계의 노드들이 참가하는 공개된 네트워크이다. 그리고 KT, U+와 같은 인터넷 회사(ISP, Internet Service Provider)들은 인터넷이라는 네트워크에 접속할 수 있는 회선을 파는 사업을 한다. 따라서 우리같은 일반인들이 이 네트워크에 접속하기 위해서는 ISP로부터 인터넷 접속이 가능한 회선을 구매하여 사용해야 한다.[^9]

[^9]: 이 과정이 "인터넷을 설치한다"라는 과정이다.

반대로 인트라넷은 몇몇 노드들만이 참가하는 비공개 네트워크이다. 인트라넷에 접속하기 위해서는 인트라넷 접속 회선을 연결해야 한다. 인트라넷 접속이 가능한 회선이 없으면 인트라넷에 접속할 수 없다.

군필자라면, 특히 행정병 출신이라면 인트라넷이라는 말을 군대에서 많이 들어봤을 것이다.~~야너두? 야나두!~~ 인트라넷 역시 인터넷과 동일하게 TCP/IP 프로토콜을 사용하기에 인트라넷 상의 컴퓨터(서버)에 우리가 네이버, 구글 들어가듯이 웹 브라우저를 이용하여 접속 가능하다. 하지만 이는 인트라넷 회선이 연결되어 있는 컴퓨터에서만 가능하고, 인트라넷 회선이 연결되어 있지 않은 싸지방 컴퓨터나 pc방 컴퓨터 등에서는 인트라넷 사이트에 접속이 불가능한 것이다.

## 인터넷과 웹(Web)

인터넷은 흔히 웹(Web)과 혼동하여 사용된다. 웹은 월드 와이드 웹(WWW, World Wide Web)을 줄인 말로, HTTP(HyperText Transfer Protocol) 프로토콜 위에서 돌아가는 서비스이다. 웹은 인터넷 위에서 동작하는 하나의 서비스이다.[^10] 인터넷 위에서 돌아가는 서비스는 웹 이외에도 SMTP(Simple Mail Transfer Protocol)[^11], DNS(Domain Name System)[^12], NTP(Network Time Protocol)[^13] 등 다양하다. 웹은 현재 인터넷의 다양한 서비스 중 가장 인기가 많은 서비스이다.

[^10]: HTTP 프로토콜은 TCP/IP 프로토콜 위에서 작동한다.
[^11]: 이메일 전송 프로토콜
[^12]: URL을 IP 주소로 변환시켜주는 서비스. 참고로 요즘에는 DNS over HTTPS라 해서 웹(HTTPS) 위에서 작동하는 DNS도 있다.
[^13]: 시간 동기화 프로토콜

# 서버-클라이언트 모델(Server-Client Model)

서버-클라이언트 모델은 서비스 요청자(Service Requester)와 서비스 제공자(Service Provider)를 분리한 모델이다. 이때 서비스 요청자를 클라이언트(Client), 서비스 제공자를 서버(Server)라 한다. 예를 들어, 다음 경우를 보자.

> 기업 X에서 이번에 신제품을 출시하였다 해 보자. X는 신제품 출시 후 소비자의 반응과 업계 동향을 알고 싶다. 그래서 기업은 리서치 회사 Y에게 위 내용에 관해 조사해 줄 것을 의뢰한다. Y는 자체적으로 조사단을 꾸려 조사를 하고, 그 결과를 정리하여 X에게 보고한다.
이 경우 X는 Y가 구체적으로 어떤 방법으로 조사를 수행했는지 알 필요가 없다. X는 Y에게 양식에 맞춰 의뢰서를 보내고, Y는 의뢰받은 내용 대로 일을 잘 처리해서 양식에 맞춰 보고서를 보내주기만 하면 된다.

위 이야기는 전형적인 서버-클라이언트 모델이 적용된 상황으로, 기업 X가 클라이언트, Y가 서버 역할을 하고 있다.

서버-클라이언트 모델에서 서버는 클라이언트에 대해 서비스에 대한 추상화(abstract)를 제공한다. 즉, 클라이언트는 서버가 구체적으로 어떤 방식으로 해당 서비스를 구현하는지 알 필요가 없다. 클라이언트는 오직 서버에게 약속된 적법한 방법으로 요청(request)을 보내기만 하면 된다. 그러면 서버는 해당 요청을 처리한 후 약속된 방법으로 처리 결과를 응답(respond)한다. 이때 서버와 클라이언트 간 의사소통을 위한 약속을 프로토콜(Protocol)이라 한다. 이 이야기에서 의뢰서와 보고서의 양식이 프로토콜이라 할 수 있겠다.

서버-클라이언트 모델의 장점은 다음과 같다.

- 서비스 제공자(서버)와 서비스 요청자(클라이언트)가 명확히 분리되기에, 유지 보수가 쉬워진다.
- 서버는 서비스 제공에 필요한 최소한의 정보만 클라이언트에 넘길 수 있기 때문에, 보안성이 증가한다.
- 클라이언트는 서비스가 구체적으로 어떻게 구현되었는지 모르는 채로 서비스를 사용할 수 있기 때문에, 복잡성이 감소한다.

서버-클라이언트 모델의 단점은 다음과 같다.

- 서버의 부하가 크다. 서버가 작동을 중지하면 서비스를 제공할 수 없게 된다.

본질적으로 서버와 클라이언트는 프로그램이다. 그래서 필요하다면 한 컴퓨터에서 서버 프로그램과 클라이언트 프로그램이 동시에 구동되게 할 수도 있다.[^14] 하지만 일반적으로 서버 프로그램은 서버 컴퓨터에서, 클라이언트 프로그램은 클라이언트 컴퓨터에서 실행한다. 보통 서버 컴퓨터는 클라이언트 컴퓨터에 비해 더 성능이 좋다.

[^14]: 네트워크 과제에서 이런 식으로 많이 프로그래밍했을 것이다.

# 웹 서버(Web Server), 웹 브라우저(Web Browser)

서버가 제공하는 기능이 어떤 것이냐에 따라 서버의 이름을 붙일 수 있다. 만약 서버가 데이터베이스 서비스를 제공한다면, 그래서 클라이언트가 데이터베이스 관련 요청을 보내고 응답을 받을 수 있다면, 해당 서버는 데이터베이스 서버라 불린다. 만약 서버가 FTP 서비스를 제공한다면 해당 서버는 FTP 서비스라 불린다. 마찬가지로 만약 서버가 웹을 제공한다면 해당 서버는 웹 서버가 된다.

과거에는 다양한 종류의 서버가 존재하였다. 하지만 오늘날에는 웹 기술의 발달로 대부분의 서비스들이 웹 위로 올라갈 수 있게 되었다. 그 결과 대부분의 서버는 웹 서버가 되었다. 예를 들어, 과거에는 FTP 프로토콜을 사용하여 FTP 서비스를 제공하는 FTP 서버가 있었다면, 오늘날에는 웹 프로토콜(HTTP)을 사용하는 웹 서버에서 FTP 서비스를 제공하는 식으로 FTP 서버를 구현한다.

{% include caption-img.html src="network-basics-web-server.png" title="Fig.05 웹 서버" description="클라이언트의 요청(접속)이 있으면, 웹 서버는 HTML 문서를 전송한다." %}

웹은 상술했다시피 HTTP 프로토콜을 기반으로 한다. 웹 서버에 접속할 수 있는 클라이언트 프로그램을 웹 브라우저(Web Browser)라 한다. 웹 브라우저에는 IE(Internet Explorer), 엣지(Microsoft Edge), 크롬(Google Chrome) 등이 있다. 웹 브라우저로 웹 서버에 접속하면, 웹 브라우저는 웹 서버로 HTTP 요청(request)을 보내게 된다. 일반적으로 웹 페이지(Web Page)를 전송해 달라는 요청을 보낸다. 그러면 웹 서버는 요청에 대해 HTML 문서 혹은 오브젝트(이미지 파일, 동영상 파일 등) 등 적절한 응답(response)를 보낸다.

# 웹 사이트 (Web Site), 웹 페이지 (Web Page)

HTML로 작성된 하이퍼텍스트(hypertext) 문서를 웹 페이지(Web Page)라 한다. 그리고 연관된 웹 페이지들의 모음을 웹 사이트(Web Site)라 한다.

예를 들어, [본 블로그](https://heekangpark.github.io)는 웹 사이트이다. 이 웹 사이트 안에는 [본 문서](/web_server/02-network-basics)를 비롯해 HTML로 작성된 많은 웹 페이지가 있다.

# 정적 사이트 (Static Site) vs. 동적 사이트 (Dynamic Site)

웹 서버는 다음 두 가지 방법 중 하나로 운영된다.

* 미리 html 파일들을 다 만들어 놓고, 사용자의 요청이 들어올 때마다 html 문서를 그대로 전송
* 사용자의 요청이 들어올 때마다 PHP, JSP 등과 같은 서버사이드 언어(server-side language)를 사용하여 html 문서를 *만들어서* 전송

전자의 방식으로 구현된 사이트를 "정적(static) 사이트"라 하고, 후자의 방법으로 구현된 사이트를 "동적(dynamic) 사이트"라 한다.

동적 사이트의 경우 같은 레이아웃에 내용만 바뀌는 글들을 만드는데 특히 유용하다. 예를 들어 다음과 같은 기능을 가지고 있는 간단한 게시판을 만든다고 해보자.
- 접속하면 제일 처음 "게시글 목록" 화면이 나온다.
- 각 게시글을 클릭하면 "게시글 보기" 화면이 나오면서 동일한 레이아웃 상에서 게시글의 내용을 보여준다.

이 사이트를 정적 사이트로 제작한다 생각해 보자. 사용자들이 게시판에 글을 올리면 각 게시글 마다 각각 html 파일이 있어야 한다. 각각의 (거의 동일한 내용을 가진) html 파일을 만드는 것도, 만든 파일들을 서로 하이퍼링크로 연결하는 것도 모두 어마어마한 노가다이다.

하지만 이 사이트를 동적 사이트로 만든다면 쉬워진다. 게시글 내용을 DB에 잘 저장해 놓았다가, 사용자가 각 게시글에 접근하면 그때마다 동적으로 정해진 레이아웃 위에 DB에서 빼온 데이터를 올리기만 하면 된다. 마치 공장에서 물건이 제작되어 나오듯이 html 페이지가 제작되어 나오는 모습을 상상해보라. 개발자는 게시글 내용을 저장할 DB와, 게시글의 출력을 담당하는 프로그램, 이렇게 둘만 만들면 된다.

이렇게 보면 동적 방식이 정적 방식보다 무조건 우수한 것으로 보이는데, 대신 정적 방식에도 장점이 있다. 동적 방식에서 서버는 사용자의 요청을 처리하고, 각 페이지를 실시간으로 제작해야 하는데, 정적 방식에서는 요청이 들어온 페이지를 그 즉시 바로 전송만 하면 되므로 서버의 부담이 적고, 속도도 빠르다.