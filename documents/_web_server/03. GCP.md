---
title: "GCP (Google Cloud Platform)"
order: 3
date_created: "2020-07-13"
date_modified: "2021-04-20"
---

# 구글 클라우드 플랫폼 (GCP, Google Cloud Platform)

구글 클라우드 플랫폼(GCP, Google Cloud Platform)은 구글이 서비스하는 클라우드 컴퓨팅 플랫폼이다.

## 클라우드 서비스 (Cloud Service)

수많은 서비스들이 자신들의 서비스는 클라우드를 기반으로 하고 있다고 한다. 여기서 클라우드란 무엇일까? 

클라우드 서비스란 온라인으로 저장 공간, 프로그램, 컴퓨팅 파워 등을 제공하는 서비스를 뜻한다.

사실 클라우드 서비스는 새로운 기술이 아니다. 컴퓨터가 처음 만들어졌을 때는 컴퓨터 가격이 매우 비싸 일반적으로 돈이 많은 기업, 대학 등에서 고성능 컴퓨터(워크스테이션, Workstation)를 구매한 후, 사용자들은 저렴한 저성능의 컴퓨터(터미널, Terminal)로 워크스테이션에 접속하여 사용하는 형태로 많이 사용되었다. 개념적으로 보면 이 역시 클라우드 서비스의 일종이었다. 다만 오늘날의 클라우드 서비스는 네트워크 기술의 발달, 그리드 컴퓨팅 기술, 사용자 컴퓨터(PC, Personal Computer)의 성능 발달 등에 힘입어 당시보다 훨씬 더 많은 일을 훨씬 더 쾌적하게 할 수 있게 되었다는 점이 차이점이다.

일반적으로 클라우드 서비스는 다음과 같이 작동한다.

- 클라우드 서비스 제공자는 (고성능의) 물리 서버 여러 대를 구매한 후, 이를 그리드 컴퓨팅 기술을 이용하여 하나의 아주 강력한 서버로 만든다.
- 가상화 기술을 이용하여 작게는 저장공간에서부터, 데이터베이스, 프로그램, 크게는 CPU, RAM, GPU와 같은 컴퓨팅 파워를 사용자들에게 제공한다.

클라우드 서비스는 서비스(저장 공간, 데이터베이스, 프로그램, 컴퓨팅 파워 등)에 대한 추상화(Abstraction)를 제공한다. 전기를 쓸 때 그 전기가 어떻게 생산되었는지 생각하면서 쓰는 사람은 거의 없을 것이다. 그냥 아무 생각 없이 콘센트에 플러그를 꼽지 않던가? 클라우드 서비스는 마치 전기 서비스처럼, 사용자가 구름 속에서 어떤 복잡한 일이 일어나는지 알 필요 없이 오직 필요한 서비스만을 딱 제공받을 수 있게 해 준다.

클라우드 서비스는 다음과 같은 장점이 있다.

- 서비스 사용자는 인터넷만 연결되어 있으면 어느 곳어서든, 어떤 기기에서든 동일한 환경에서 작업을 계속할 수 있다.
- 서비스 제공자는 다양한 기술을 통해 서비스의 안정성을 보장한다. 이로서 서비스 사용자는 위험 비용(CoR, Cost of Risk)을 낮출 수 있다.
- 인프라(Infrastructure)의 관리는 전문가(서비스 제공자)에게 맡기고, 서비스 사용자는 핵심 사업에 집중할 수 있다.
- 서비스 제공자는 규모의 경제를 실현하여 서비스 사용자가 각각 인프라를 구축할 때보다 싼 가격에 인프라를 구축할 수 있다. 그 결과 서비스 사용자들은 더 적은 비용으로 인프라를 구축할 수 있다.
- 서비스 사용자가 제공받는 서비스는 가상화 기술을 기반으로 하기 때문에, 서비스의 증축, 감축이 간편하다. 이로 인해 서비스 사용자는 필요할 때(on-demand) 딱 필요한 만큼의 서비스를 이용할 수 있다. 예를 들어 한 기업에서 특정 시간에만 사용량이 폭증하는 웹 사이트를 운영한다고 해 보자. 만약 기업이 직접 서버를 구축했다면, 사용량이 폭증하는 특정 시간대를 위해서 고가의 서버를 구동해야 한다. 만약 이 기업이 클라우드 서비스에서 서버를 대여했다면, 사용량이 폭증할 특정 시간대에만 서버를 증축하고 나머지 시간대에는 서버를 감축할 수 있다. 

사족으로 "클라우드"라는 이름은 전통적으로 개발자들이 복잡한 네트워크 망을 구름 형태로 묘사했던 것에서 유래했다고 한다.

{% include caption-img.html src="gcp-cloud.png" title="Fig.01 클라우드 (Cloud)" description="전통적으로 개발자들은 복잡한 네트워크 망을 구름 형태로 묘사하곤 하였다." %}

클라우드 서비스로 유명한 기업으로는 구글(GCP, Google Cloud Platform), 아마존(AWS, Amazon Web Service), 마이크로소프트(Microsoft Azure), 네이버(Naver Cloud Platform) 등이 있다. 사용자들은 제공하는 기능, 비용 등을 보고 적당한 클라우드 서비스 제공자를 고르면 된다.

# 구글 클라우드 플랫폼에서 VM 인스턴스 생성하기

구글 클라우드 플랫폼에서 VM 인스턴스를 생성해 보도록 하자.

## 구글 계정 생성

GCP를 사용하기 위해서는 우선 구글 계정이 있어야 한다. 만약 구글 계정이 없다면 새로 만들도록 하자.

## 구글 클라우드 플랫폼 콘솔 접속

[GCP](https://console.cloud.google.com/)에 접속하여 구글 클라우드 플랫폼 관리 페이지인 콘솔 화면에 접속한다. 최초 접속 시 약관 확인 창이 뜰 텐데, 약관에 동의한 후 진행하면 된다.

{% include caption-img.html src="gcp-welcome.png" title="Fig.02 GCP 약관 확인" description="최초 접속 시 약관 확인 창이 뜰 텐데, 약관에 동의한 후 진행하면 된다." %}

## 무료 크레딧 수령하기

구글 클라우드 플랫폼의 경우 처음 사용자에게 1년 동안 사용할 수 있는 $300의 크레딧(credit)을 제공한다. 크레딧은 현금처럼 사용할 수 있다. 즉, 이를 이용하면 1년 동안은 공짜로 GCP의 서비스를 이용할 수 있다는 것이다.

크레딧을 수령하려면 화면 위쪽의 안내 문구에서 "활성화" 버튼을 누르거나, "시작하기" 화면 가운데의 "무료로 사용해 보기" 버튼을 클릭한다. 요구하는 정보를 모두 입력하고 나면 $300 크레딧을 받을 수 있을 것이다.

{% include caption-img.html src="gcp-credit.png" title="Fig.03 무료 크레딧 수령하기" description="빨간 버튼을 눌러 개인정보 및 결제정보를 입력하면 무료 크레딧을 수령할 수 있다." %}

## 프로젝트 만들기

프로젝트란 GCP 리소스들의 집합이다. 사용자는 각 프로젝트마다 각기 다른 사용자, 결제 정보, VM 인스턴스, 모니터링 등을 배정할 수 있다.

무료 크레딧을 수령하기 위해 결제 정보를 입력했으면 자동으로 프로젝트가 하나 생길 것이다. 새로운 프로젝트를 만들어도 좋고, 기존 프로젝트를 계속 사용해도 상관없다.

새로운 프로젝트는 화면 상단의 프로젝트 선택 버튼에서 새 프로젝트를 클릭한 후 만들 수 있다.

{% include caption-img.html src="gcp-project.png" title="Fig.04 GCP 프로젝트 만들기" description="빨간 버튼을 눌러 새 프로젝트를 추가할 수 있다." %}

## VM 인스턴스 만들기

GCP에서는 가상 머신(VM, Virtual Machine) 인스턴스를 만들 수 있다. 홈 화면에서 왼쪽 메뉴를 연 후, "Compute Engine"으로 들어가자. 

{% include caption-img.html src="gcp-vm-1.png" title="Fig.05 VM 인스턴스 만들기 (1)" description="빨간 버튼을 눌러 'Compute Engine'으로 들어간다." %}

Compute Engine에 처음 들어가면 Compute Engine이 초기화하는 시간이 필요하다. 약 1~2분 정도 기다리면 아래 그림과 같이 "만들기" 버튼이 활성화된다. "만들기" 버튼을 누른다.

{% include caption-img.html src="gcp-vm-2.png" title="Fig.06 VM 인스턴스 만들기 (2)" description="'만들기' 버튼을 누른다." %}

그러면 다음과 같은 창이 뜬다.

{% include caption-img.html src="gcp-vm-3.png" title="Fig.07 VM 인스턴스 만들기 (3)" description="VM 인스턴스 정보를 입력한다." %}

- 이름 : VM 인스턴스의 이름을 입력한다. 이름은 한번 정하면 수정할 수 없다.
- 라벨 : 여러 VM 인스턴스들을 관리하기 위해서 사용하는 기능이다. 아무 것도 추가하지 않아도 VM 인스턴스를 만들 수 있다.
- 리전, 영역 : GCP는 빠른 서비스를 제공하기 위해 전 세계 곳곳에 데이터 센터를 지어놓았다. 리전(Region)과 영역(Zone)을 설정해 어느 곳에 위치한 데이터 센터에서 인스턴스가 만들어질 지를 선택할 수 있다. 일반적으로 빠른 접속 속도를 위해 서비스하고 싶은 지역에서 가장 가까운 쪽의 리전과 영역에 인스턴스를 생성한다. 각 리전과 영역 별로 사용할 수 있는 리소스(CPU, GPU 등)가 다르니, 만약 특별한 성능의 VM 인스턴스가 필요하다면 이를 알아보고 선택하는 것이 좋다. 더 자세한 내용은 [구글 공식 문서](https://cloud.google.com/compute/docs/regions-zones)를 확인하자.
- 머신 구성 : VM 인스턴스의 하드웨어 스펙을 결정할 수 있다. 고성능의 하드웨어를 사용할 수록 높은 비용이 청구되니, 자신의 필요에 맞는 하드웨어를 선택하여 사용하면 되겠다. "CPU 플랫폼 및 GPU"를 클릭하면 더 상세한 수준에서의 하드웨어 스펙 선택이 가능하다.
- 컨테이너 : Docker 등의 컨테이너를 적용할 수 있다. 사용하고 싶으면 체크박스에 체크한 후 컨테이너 경로를 입력한다.
- 부팅 디스크 : VM 인스턴스가 사용할 메인 보조저장장치 및 운영체제를 선택할 수 있다. "변경" 버튼을 눌러 더 큰 용량을 선택할 수도 있고, 다른 운영체제를 선택할 수도 있다.
- IP 및 API 엑세스 : Google Cloud API 관련 설정. Google Cloud API를 사용하면 해당 VM 인스턴스 내에서 VM 인스턴스의 설정을 변경할 수 있다.
- 방화벽 : VM 인스턴스의 방화벽을 설정한다. 이 방화벽은 GCP에서 제공하는 것으로, VM 인스턴스 내부의 운영체제에서 지원하는 방화벽[^1]과는 다르다.

[^1]: ufw 등

설정을 완료하였으면 오른쪽의 탭에서 현재 인스턴스가 시간당 얼마 정도 청구되는지 확인한다. "만들기" 버튼을 클릭하면 약간의 시간을 두고 VM 인스턴스가 만들어진다. 아래 그림과 같이 초록색 체크 표시가 뜨면 VM 인스턴스 생성이 완료된 것이다.

{% include caption-img.html src="gcp-vm-4.png" title="Fig.08 VM 인스턴스 만들기 (4)" description="VM 인스턴스 생성이 완료되었다." %}

