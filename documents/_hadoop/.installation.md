# 하둡 다운로드

2021년 07월 현재 최신 Hadoop 버전은 3.3.1임.

{% highlight bash %}
wget https://mirror.navercorp.com/apache/hadoop/common/hadoop-3.3.1/hadoop-3.3.1.tar.gz
tar -zxf hadoop-3.3.1.tar.gz
sudo mv hadoop-3.3.1/ /usr/local
{% endhighlight %}

# Java 설치

{% highlight bash %}
sudo apt install openjdk-8-jre-headless
echo 'export JAVA_HOME="/usr/lib/jvm/java-8-openjdk-amd64"' >> ~/.bashrc
source ~/.bashrc
{% endhighlight %}

# 하둡 계정 만들기

{% highlight bash %}
sudo addgroup hadoop
sudo adduser --ingroup hadoop --no-create-home --gecos "" hdfs
sudo adduser --ingroup hadoop --no-create-home --gecos "" hadoop
sudo adduser --ingroup hadoop --no-create-home --gecos "" mapred
sudo adduser --ingroup hadoop --no-create-home --gecos "" yarn

sudo chown -R hadoop:hadoop /usr/local/hadoop-3.3.1/
{% endhighlight %}

# 클러스터 SSH 연결 만들기

{% highlight bash %}
sudo bash -c 'cat "192.168.0.101 c1" >> /etc/hosts'
sudo bash -c 'cat "192.168.0.102 c2" >> /etc/hosts'
sudo bash -c 'cat "192.168.0.103 c3" >> /etc/hosts'
sudo bash -c 'cat "192.168.0.104 c4" >> /etc/hosts'
ssh-keygen -N '' -f ~/.ssh/hccl-cluster
ssh-copy-id -i ~/.ssh/hccl-cluster hcc@c2
ssh-copy-id -i ~/.ssh/hccl-cluster hcc@c3
ssh-copy-id -i ~/.ssh/hccl-cluster hcc@c4
{% endhighlight %}

