---
title: "MathJax"
order: 9
date: "2021-03-16"
---

MathJax를 이용하면 Jekyll 블로그에서 수식을 표현할 수 있다.

# 설치하기

Jekyll 블로그에 MathJax를 사용하는 가장 간단한 방법은 CDN을 이용하는 것이다. 다음 두 줄을 `<head>` 태그 사이에 추가한다.

{% highlight html %}
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
{% endhighlight %}

그리고 다음과 같이 MathJax를 설정해주면 된다.

{% highlight html %}
<script>
MathJax = {
    tex: {
        inlineMath: [ ['$','$'], ['\\(', '\\)'] ], 
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true,
    },
    chtml: {
        scale: 1,
        matchFontHeight: true,
    },
    options: {
        ignoreHtmlClass: "ignore-mathjax",
    }
}
</script>

<style>
mjx-container {
    width: 100%;
    overflow-x: auto;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
}
</style>
{% endhighlight %}

끝이다! 이제 이렇게 하면 Jekyll 블로그에서 MathJax를 이용해 수식을 표현할 수 있다.

## 조금 복잡한 얘기

### MathJax 종류

MathJax는 문자열을 수식으로 바꿔주는 라이브러리이다. MathJax 버전 3 기준, 선택할 수 있는 입력값의 종류는 TeX(LaTex)(`input/tex`), MathML(`input/mml`), 이렇게 두 종류가 있고, 출력할 수 있는 수식 포멧의 종류는 CHTML(Common HTML)(`output/chtml`), SVG(`output/svg`), 이렇게 두 종류가 있다. 이들을 조합해, MathJax는 총 8가지의 컴포넌트를 제공한다.

- tex-chtml : `input/tex`, `output/chtml` 사용
- tex-chtml-full : `input/tex-full`, `output/chtml` 사용
- tex-svg : `input/tex`, `output/svg` 사용
- tex-svg-full : `input/tex-full`, `output/svg` 사용
- tex-mml-chtml : `input/tex`, `input/mathml`, `output/chtml` 사용
- tex-mml-svg : `input/tex`, `input/mathml`, `output/svg` 사용
- mml-chtml : `input/mml`, `output/chtml` 사용
- mml-svg : `input/mml`, `output/svg` 사용

참고로 `input/tex`에는 `ams`, `newcommand`, `require`, `autoload`, `configmacros`, `noundefined` 확장만 포함되어 있지만, `input/tex-full`에는 `physics`, `colorv2` 확장을 제외한 거의 대부분의 확장이 포함되어 있다. 사실 `input/tex`에 포함되어 있는 확장을 이용하면 필요한 다른 확장들을 명시적(`\require` 매크로 이용) 혹은 암시적으로 설치할 수 있다. 만약 본인이 다양한 TeX 확장을 계속 써야한다면 `input/tex-full`을 사용하는 것이 확장 설치 과정이 없어 편리하겠지만, 그런게 아니라면 그냥 `input/tex`를 쓰면 된다. 


# 문법

## 지수, 아래 첨자

- $a_{i}$ : `$a_{i}$`
- $a^{n}$ : `$a^{n}$`

## 그리스 문자

### 소문자

- $\alpha$ : `$\alpha$`
- $\beta$ : `$\beta$`
- $\gamma$ : `$\gamma$`
- $\delta$ : `$\delta$`
- $\epsilon$ : `$\epsilon$`
- $\zeta$ : `$\zeta$`
- $\eta$ : `$\eta$`
- $\theta$ : `$\theta$`
- $\iota$ : `$\iota$`
- $\kappa$ : `$\kappa$`
- $\lambda$ : `$\lambda$`
- $\mu$ : `$\mu$`
- $\nu$ : `$\nu$`
- $\xi$ : `$\xi$`
- $\omicron$ : `$\omicron$`
- $\pi$ : `$\pi$`
- $\rho$ : `$\rho$`
- $\sigma$ : `$\sigma$`
- $\tau$ : `$\tau$`
- $\upsilon$ : `$\upsilon$`
- $\phi$ : `$\phi$`
- $\chi$ : `$\chi$`
- $\psi$ : `$\psi$`
- $\omega$ : `$\omega$`

### 대문자

알파벳에 동일한 모양이 있는 그리스 대문자들은 그냥 알파벳을 그대로 쓰면 된다 : Alpha(= A), Beta(= B), Epsilon(= E), Zeta(= Z), Eta(= H), Iota(= I), Kappa(= K), Mu(= M), Nu(= N), Omicron(= O), Rho(= P), Tau(= T), Chi(= X)

- $A$ : `$A$`
- $B$ : `$B$`
- $\Gamma$ : `$\Gamma$`
- $\Delta$ : `$\Delta$`
- $E$ : `$E$`
- $Z$ : `$Z$`
- $H$ : `$H$`
- $\Theta$ : `$\Theta$`
- $I$ : `$I$`
- $K$ : `$K$`
- $\Lambda$ : `$\Lambda$`
- $M$ : `$M$`
- $N$ : `$N$`
- $\Xi$ : `$\Xi$`
- $O$ : `$O$`
- $\Pi$ : `$\Pi$`
- $P$ : `$P$`
- $\Sigma$ : `$\Sigma$`
- $T$ : `$T$`
- $\Upsilon$ : `$\Upsilon$`
- $\Phi$ : `$\Phi$`
- $X$ : `$X$`
- $\Psi$ : `$\Psi$`
- $\Omega$ : `$\Omega$`

### 기타

그리스 문자 중 여러 모양으로 쓰이는 문자들의 경우 `var`(variant)을 앞에 붙이면 다른 모양을 얻을 수 있다.

- $\varepsilon$ : `$\varepsilon$`
- $\varkappa$ : `$\varkappa$`
- $\varpi$ : `$\varpi$`
- $\varrho$ : `$\varrho$`
- $\varphi$ : `$\varphi$`
- $\varsigma$ : `$\varsigma$`

그리스 대문자에 `var`을 붙이면 글자가 조금 기울어져서 나오게 된다

- $\varGamma$ : `$\varGamma$`
- $\varDelta$ : `$\varDelta$`
- $\varTheta$ : `$\varTheta$`
- $\varLambda$ : `$\varLambda$`
- $\varXi$ : `$\varXi$`
- $\varPi$ : `$\varPi$`
- $\varSigma$ : `$\varSigma$`
- $\varUpsilon$ : `$\varUpsilon$`
- $\varPhi$ : `$\varPhi$`
- $\varPsi$ : `$\varPsi$`
- $\varOmega$ : `$\varOmega$`

## 기타 문자형 기호

- $\aleph$ : `$\aleph$`
- $\hbar$ : `$\hbar$`
- $\hslash$ : `$\hslash$`
- $\imath$ : `$\imath$`
- $\ell$ : `$\ell$`
- $\nabla$ : `$\nabla$`
- $\forall$ : `$\forall$`
- $\exists$ : `$\exists$`
- $\partial$ : `$\partial$`

## 글꼴

### 블링블링하게

- $\mathcal{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$ : `$\mathcal{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$`

### 겁나 블링블링하게

- $\mathfrak{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$ : `$\mathfrak{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$`

### 두줄로

보통 자연수 집합, 실수 집합 등 수 체계를 표현할 때 사용된다.

- $\mathbb{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$ : `$\mathbb{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$`
- $\mathbb{R}$ : `$\mathbb{R}$`
- $\mathbb{N}$ : `$\mathbb{N}$`
- $\mathbb{Z}$ : `$\mathbb{Z}$`
- $\mathbb{Q}$ : `$\mathbb{Q}$`
- $\mathbb{C}$ : `$\mathbb{C}$`

### 로만체(정자체)

기울여지지 않는 정자체 텍스트는 다음과 같이 쓰면 된다.

- $\mathrm{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$ : `$\mathbb{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$`

### 굵게

- $\boldsymbol{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$ : `$\boldsymbol{ABCDEFGHIJKLMNOPQRSTUVWXYZ}$`

## 기타 수학 기호

- $\varnothing$ : `$\varnothing$`
- $\infty$ : `$\infty$`
- $\pm$ : `$\pm$`
- $\mp$ : `$\mp$`
- $\times$ : `$\times$`
- $\div$ : `$\div$`
- $\ast$ : `$\ast$`
- $\star$ : `$\star$`
- $\circ$ : `$\circ$`
- $\bullet$ : `$\bullet$`
- $\cdot$ : `$\cdot$`
- $\cap$ : `$\cap$`
- $\cup$ : `$\cup$`
- $\vee$ : `$\vee$`
- $\wedge$ : `$\wedge$`
- $\neg$ : `$\neg$`
- $\wr$ : `$\wr$`
- $\oplus$ : `$\oplus$`
- $\ominus$ : `$\ominus$`
- $\otimes$ : `$\otimes$`
- $\oslash$ : `$\oslash$`
- $\odot$ : `$\odot$`

- $\le$ : `$\le$`, `$\leq$`
- $\ge$ : `$\ge$`, `$\geq$`
- $\ll$ : `$\ll$`
- $\gg$ : `$\gg$`
- $\subset$ : `$\subset$`
- $\subseteq$ : `$\subseteq$`
- $\supset$ : `$\supset$`
- $\supseteq$ : `$\supseteq$`
- $\in$ : `$\in$`
- $\ni$ : `$\ni$`
- $\vdash$ : `$\vdash$`
- $\dashv$ : `$\dashv$`
- $\equiv$ : `$\equiv$`
- $\sim$ : `$\sim$`
- $\approx$ : `$\approx$`
- $\neq$ : `$\neq$`
- $\propto$ : `$\propto$`
- $\perp$ : `$\perp$`
- $\|$ : `$\|$` [^100]
- $\parallel$ : `$\parallel$`
- $\angle$ : `$\angle$`

[^100]: 마크다운 문법에서 `|`는 표를 그리기 위한 문법이기에, 그냥 `|`만 사용하면 마크다운 엔진이 이를 처리해 버려 수식이 깨진다. 이를 막기 위해 `|` 기호 앞에 `\`를 붙여 escape 해준다.

## 점

- $\ldots$ : `$\ldots$`
- $\cdots$ : `$\cdots$`
- $\vdots$ : `$\vdots$`
- $\ddots$ : `$\ddots$`

## 분수

- $\frac{1}{2}$ : `$\frac{1}{2}$`
- $\frac{1}{\frac{2}{3}}$ : `$\frac{1}{\frac{2}{3}}$`

기본적으로 MathJax에서는 수식의 전체 높이를 주변 텍스트의 높이와 비슷하게 맞춘다. 그래서 분수를 입력하면 작게 나온다. 이때 `\displaystyle`을 앞에 붙이면 글자 크기를 주변 텍스트와 같게(즉 수식 전체는 커지게) 만들 수 있다.

- $\displaystyle \frac{1}{\frac{2}{3}}$ : `$\displaystyle \frac{1}{\frac{2}{3}}$`

## 합(시그마), 곱(파이), 극한

- $\sum _{i=1} ^{n} {a_i}$ : `$\sum _{i=1} ^{n} {a_i}$`
- $\displaystyle \sum _{i=1} ^{n} {a_i}$ : `$\displaystyle \sum _{i=1} ^{n} {a_i}$`

- $\prod_{i=1} ^{n} {a_i}$ : `$\prod_{i=1} ^{n} {a_i}$`
- $\displaystyle \prod_{i=1} ^{n} {a_i}$ : `$\displaystyle \prod_{i=1} ^{n} {a_i}$`

- $\lim _{h \rightarrow 0} \frac{f(x + h) - f(x)}{h}$ : `$\lim _{h \rightarrow \infty} \frac{f(x + h) - f(x)}{h}$`
- $\displaystyle \lim _{h \rightarrow 0} \frac{f(x + h) - f(x)}{h}$ : `$\displaystyle \lim _{h \rightarrow \infty} \frac{f(x + h) - f(x)}{h}$`

## 미분, 편미분, 적분

- $f'(x)$ : `$f'(x)$`
- $\frac{d}{dx} f(x)$ : `$\frac{d}{dx} f(x)$`
- $\frac{\partial}{\partial x} f(x, y)$ : `$\frac{\partial}{\partial x} f(x, y)$`
- $\displaystyle \frac{d}{dx} f(x)$ : `$\displaystyle \frac{d}{dx} f(x)$`
- $\displaystyle \frac{\partial}{\partial x} f(x, y)$ : `$\displaystyle \frac{\partial}{\partial x} f(x, y)$`
- $\int _{-\infty} ^{x} {f(t)}$ : `$\int _{-\infty} ^{x} {f(t)}$`
- $\displaystyle \int _{-\infty} ^{x} {f(t)}$ : `$\displaystyle \int _{-\infty} ^{x} {f(t)}$`

## 집합

- $\bigcup _{i=1} ^{n} {A_i}$ : `$\bigcup _{i=1} ^{n} {A_i}$`
- $\displaystyle \bigcup _{i=1} ^{n} {A_i}$ : `$\displaystyle \bigcup _{i=1} ^{n} {A_i}$`
- $\bigcap _{i=1} ^{n} {A_i}$ : `$\bigcap _{i=1} ^{n} {A_i}$`
- $\displaystyle \bigcap _{i=1} ^{n} {A_i}$ : `$\displaystyle \bigcap _{i=1} ^{n} {A_i}$`

## 삼각함수, 로그함수, 최대/최소

- $\log$ : `$\log$`
- $\log_{16}$ : `$\log_{16}$`
- $\ln$ : `$\ln$`
- $\lg$ : `$\lg$`
- $\cos$ : `$\cos$`
- $\sin$ : `$\sin$`
- $\tan$ : `$\tan$`
- $\arcsin$ : `$\arcsin$`
- $\arccos$ : `$\arccos$`
- $\arctan$ : `$\arctan$`
- $\sin^{-1}$ : `$\sin^{-1}$`
- $\sinh$ : `$\sinh$`
- $\cosh$ : `$\cosh$`
- $\tanh$ : `$\tanh$`
- $\min$ : `$\min$`
- $\max$ : `$\max$`

## 글자 꾸미기

### 한 글자 꾸미기

- $\hat{a}$ : `$\hat{a}$`
- $\bar{a}$ : `$\bar{a}$`
- $\dot{a}$ : `$\dot{a}$`
- $\vec{a}$ : `$\vec{a}$`
- $\tilde{a}$ : `$\tilde{a}$`

### 여러 글자 꾸미기

- $\widehat{abc}$ : `$\widehat{abc}$`
- $\overline{abc}$ : `$\overline{abc}$`
- $\overrightarrow{abc}$ : `$\overrightarrow{abc}$`
- $\widetilde{abc}$ : `$\widetilde{abc}$`

## 루트

- $\sqrt{256}$ : `$\sqrt{256}$`
- $\sqrt[16]{abc}$ : `$\sqrt[16]{abc}$`

## 공백

- $a \quad b$ : `$a \quad b$` (글자 한 자 크기)
- $a \, b$ : `$a \, b$` (`\quad`의 3/18배)
- $a \\: b$ : `$a \\: b$` (`\quad`의 4/18배)
- $a \; b$ : `$a \; b$` (`\quad`의 5/18배)
- $a \qquad b$ : `$a \qquad b$` (`\quad`의 2배)

## 중괄호

- $\\{$ : `$\\{$`
- $\\}$ : `$\\}$`

## 줄바꿈 및 정렬

MathJax는 기본적으로 아무런 명령이 없는 경우 수식을 한줄로 출력한다. 이를 여러 줄에 걸쳐 출력하고 싶으면 다음과 같이 `\begin{align}`, `\end{align}` 사이에 `&`과 `\\`를 써 주면 된다.


$$
\begin{align}
\frac {\partial}{\partial w_j} J(\boldsymbol{w}) 
&= \frac {\partial}{\partial w_j} \left( \frac {1}{n} \sum _{i=1} ^{n} (y_i - f(\boldsymbol{x}_i))^2 \right) \\[5pt]
&= \frac {1}{n} \sum _{i=1} ^{n} \left( \frac {\partial}{\partial w_j} (y_i - f(\boldsymbol{x}_i))^2 \right) \\[5pt]
&= \frac {1}{n} \sum _{i=1} ^{n} \left( 2 (y_i - f(\boldsymbol{x}_i)) \cdot -\frac {\partial}{\partial w_j} f(\boldsymbol{x}_i) \right) \\[5pt]
&= \frac {1}{n} \sum _{i=1} ^{n} \left( 2 (y_i - f(\boldsymbol{x}_i)) \cdot -\frac {\partial}{\partial w_j} (w_0x_{i0} + w_1x_{i1}) \right) \\[5pt]
&= \frac {1}{n} \sum _{i=1} ^{n} ( 2 (y_i - f(\boldsymbol{x}_i)) \cdot -x_{ij} )\\
\end{align}
$$

{% highlight text %}
\begin{align}
\frac {\partial}{\partial w_j} J(\boldsymbol{w}) 
&= \frac {\partial}{\partial w_j} \left( \frac {1}{n} \sum _{i=1} ^{n} (y_i - f(\boldsymbol{x}_i))^2 \right) \\[5pt]
&= \frac {1}{n} \sum _{i=1} ^{n} \left( \frac {\partial}{\partial w_j} (y_i - f(\boldsymbol{x}_i))^2 \right) \\[5pt]
&= \frac {1}{n} \sum _{i=1} ^{n} \left( 2 (y_i - f(\boldsymbol{x}_i)) \cdot -\frac {\partial}{\partial w_j} f(\boldsymbol{x}_i) \right) \\[5pt]
&= \frac {1}{n} \sum _{i=1} ^{n} \left( 2 (y_i - f(\boldsymbol{x}_i)) \cdot -\frac {\partial}{\partial w_j} (w_0x_{i0} + w_1x_{i1}) \right) \\[5pt]
&= \frac {1}{n} \sum _{i=1} ^{n} ( 2 (y_i - f(\boldsymbol{x}_i)) \cdot -x_{ij} )\\
\end{align}
{% endhighlight %}

참고로 그냥 `\\`를 입력하면 기본 줄간격이 사용되어, 만약 $\sum$, $\int$와 같이 큰 수학 기호가 있으면 각 줄이 너무 다닥다닥 붙어있게 된다. 이 경우 위처럼 `\\` 뒤에 아래 마진을 입력하면 줄간격을 조정할 수 있다.