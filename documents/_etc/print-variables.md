---
title: "변수값 출력하기"
tags: ["c", "c++", "java", "javascript", "python"]
date_created: "2020-12-30"
date_modified: "2020-12-30"
---

프로그래밍을 하다 보면 로그 등을 표시하기 위해 문자열 안에 변수값을 포함시켜 출력해야 하는 경우가 생긴다. 각 언어별로 어떤 방법이 있는지, 그리고 각 방법을 다음 기준들에 대해 평가한 것을 정리해 보았다.

- 번잡성 : 코드가 번잡한 정도. 높을수록 가독성이 낮다. 낮을수록 좋은 것이다.
- 직관성 : 출력 코드를 읽었을 때 어떤 식으로 출력될지 직관적으로 이해할 수 있는 정도. 높을수록 좋은 것이다.
- 실수 확률 : 코드 작성 시 실수할 확률. 번잡성이 높고 직관성이 낮으면 실수 확률이 높아진다. 낮을수록 좋은 것이다.
- 표현력 : 다양한 포멧으로 원하는 대로 출력할 수 있는 정도. 높을수록 좋은 것이다.

덧)
- 각 언어별로 가장 추천하는 방식 옆에 `★` 기호를 달았다.
- 언어에서 기본적으로 제공하는 기능만 사용하는 방법만 정리하였다.
- 만약 여기에 적힌 방법보다 더 좋은 방법이 있다면 댓글로 남겨주길 바란다.

# C

## printf() 함수와 형식 문자(format string)를 이용하는 방법★

C언어에서는 다음과 같이 `printf()` 함수와 형식 문자(format string)을 이용해 문자열 안에 변수값을 포함시켜 출력할 수 있다.

{% highlight C %}
#include <stdio.h>

int main() {
    int a = 5;
    int b = 3;

    printf("a = %d, b = %d\n", a, b);

    return 0;
}
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

`printf()` 함수는 (첫 번째 인자로 전달받은) 문자열 안의 형식 문자들을 인자로 전달받은 변수로 앞에서부터 하나씩 대치하여 출력한다.

이 방법은 다음과 같은 특징이 있다.

- 번잡성 높음. 인자들을 죽 나열하는 방식이다 보니 코드가 (옆으로) 길어진다.
- 직관성 낮음. 출력 문자열(`printf()` 함수의 첫 번째 인자)만 봐서는 어떤 변수가 어느 위치에 나오는지 한눈에 보기 힘들다.
- 실수 확률 높음. 인자의 개수를 잘못 맞추거나 인자의 위치를 잘못 설정하거나, 잘못된 형식 문자를 사용한다면 원하는 대로 출력되지 않는다.
- 표현력 높음. 형식 문자는 다양한 포멧으로의 출력을 가능하게 해 준다.
- `printf()` 함수는 문자열 끝에 개행 문자(`\n`)를 자동으로 붙여 주지 않는다. 만약 개행되길 원한다면 위 코드와 같이 수동으로 붙여주어야 한다.

# C++

## std::cout 객체를 이용하는 방법★

C++에서는 `std::cout` 객체를 이용하면 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight cpp %}
#include <iostream>

using namespace std;

int main() {
    int a = 5;
    int b = 3;

    cout << "a = " << a << ", b = " << b << endl;

    return 0;
}
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

`std::cout` 객체는 `<<` 연산자로 전달된 변수, 상수 등을 출력해준다. `std::cout` 객체는 변수, 상수 등의 타입을 자동으로 인식해 형식 문자를 사용하지 않아도 적당안 형식으로 출력해준다.

이 방법은 다음과 같은 특징이 있다.

- 번잡성 높음. `<<` 연산자, 따옴표(`"`) 등을 계속 사용해야 해 코드가 옆으로 길어진다.
- 직관성 중간. 코드를 보면 대충 어떤 값이 어떤 순서로 출력될지는 보이나, 번잡성이 높아 한 눈에 알아보기는 힘들다.
- 실수 확률 중간.
- 표현력 중간. 다양한 표현히 가능하긴 하지만 번거롭다. 예를 들어 `std::cout`를 사용해 소숫점 둘째 자리까지만 출력하게 하고 싶으면 `std::cout`의 설정을 바꿔 주는 추가적인 처리가 필요하다(아래 코드 참조). 형식 문자를 쓰지 않는 대신 생기는 일종의 패널티인 셈인데, 만약 한 문장에서 어떤 실수형 변수는 소숫점 둘째 자리까지, 또 다른 실수형 변수는 소숫점 넷째 자리까지 출력하는 등 출력 포멧이 달라진다면 `std::cout`으로 이를 출력하기는 아주 번거롭다(문장을 한 번에 출력할 수 없고, 출력 포멧이 달라질 때마다 `std::cout` 객체를 다시 설정한 다음 사용해야 한다). 하지만 로그 메시지를 출력하는 등 일반적인 경우 동일한 설정값을 계속 사용할 수 있으므로 이 패널티는 크게 체감되지 않는다.
- `std::cout` 객체는 문자열 끝에 개행 문자(`\n`)를 자동으로 붙여 주지 않는다. 만약 개행되길 원한다면 위 코드와 같이 `std::endl`을 수동으로 붙여주어야 한다.

{% highlight cpp %}
#include <iostream>

using namespace std;

int main() {
    double pi = 3.14159265;

    // 아무런 설정을 하지 않고 출력
    cout << "pi = " << pi << endl;

    // 소숫점 둘째 자리까지만 출력되게 설정하고 출력
    cout << fixed;
    cout.precision(2);
    cout << "pi = " << pi << endl;

    return 0;
}
{% endhighlight %}

{: .code-result }
{% highlight text %}
pi = 3.14159
pi = 3.14
{% endhighlight %}

# 자바 (Java)

## + 연산자를 이용하는 방법★

자바에서는 `+` 연산자를 이용하면 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight java %}
public class Main {
    public static void main(String[] args) {
        int a = 5;
        int b = 3;
        
        System.out.println("a = " + a + ", b = " + b);
    }
}
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

자바에서는 `+` 연산자에 하나 이상의 문자열을 피연산자로 주면 `+` 연산자는 산술 덧셈(arithmetic addition)이 아닌 문자열 합치기 연산(concatenation)을 수행힌다. 문자열 합치기 연산 수행 시 피연산자로 문자열이 아닌 변수/상수가 입력되었을 경우 이를 문자열로 변환한 후(`toString()` 메소드가 호출되어 문자열로 변환된다) 문자열 합치기 연산을 수행하게 된다.

이 방법은 다음과 같은 특징이 있다.

- 번잡성 중간. 따옴표(`"`), `+` 등을 계속 사용해야 해 코드가 옆으로 길어진다.
- 직관성 중간. 코드를 보면 대충 어떤 값이 어떤 순서로 출력될지는 보이나, 번잡성이 낮지 않아 한 눈에 알아보기는 힘들다.
- 실수 확률 중간.
- 표현력 낮음. 소숫점 자리수와 같은 포멧팅을 하고 싶으면 변수 하나하나에 대해 `String.format()` 메소드 등을 이용해 포멧팅을 해야 한다.
- `System.out.println()` 메소드는 문자열 뒤에 자동으로 개행 문자(`\n`)를 붙여준다.

## System.out.printf() 메소드와 형식 문자(format string)를 이용하는 방법

자바에서는 `System.out.printf()` 메소드와 형식 문자(format string)를 이용해 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight java %}
public class Main {
    public static void main(String[] args) {
        int a = 5;
        int b = 3;
        
        System.out.printf("a = %d, b = %d\n", a, b);
    }
}
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

`System.out.printf()` 메소드는 (첫 번째 인자로 전달받은) 문자열 안의 형식 문자들을 인자로 전달받은 변수로 앞에서부터 하나씩 대치하여 출력한다.

이 방법은 다음과 같은 특징이 있다.

- 번잡성 높음. 인자들을 죽 나열하는 방식이다 보니 코드가 (옆으로) 길어진다.
- 직관성 낮음. 출력 문자열(`System.out.printf()` 메소드의 첫 번째 인자)만 봐서는 어떤 변수가 어느 위치에 나오는지 한눈에 보기 힘들다.
- 실수 확률 높음. 인자의 개수를 잘못 맞추거나 인자의 위치를 잘못 설정하거나, 잘못된 형식 문자를 사용한다면 원하는 대로 출력되지 않는다.
- 표현력 높음. 형식 문자는 다양한 포멧으로의 출력을 가능하게 해 준다.
- `System.out.printf()` 메소드는 문자열 끝에 개행 문자(`\n`)를 자동으로 붙여 주지 않는다. 만약 개행되길 원한다면 위 코드와 같이 수동으로 붙여주어야 한다.

## String.format() 메소드와 형식 문자(format string)를 이용하는 방법

자바에서는 `String.format()` 메소드와 형식 문자(format string)를 이용해 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight java %}
public class Main {
    public static void main(String[] args) {
        int a = 5;
        int b = 3;
        
        System.out.println(String.format("a = %d, b = %d", a, b));
    }
}
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

`String.format()` 메소드는 포멧팅된 문자열을 만들어주는 메소드이다.

이 방법은 다음과 같은 특징이 있다.

- 번잡성 아주 높음. 인자들을 죽 나열하는 방식이다 보니 코드가 (옆으로) 길어진다. 또한 `String.format()`은 새로운 문자열 객체를 만들어 주는 메소드로, 만들어진 문자열을 표준 출력으로 출력하기 위해서는 `System.out.println()`와 같은 메소드를 함께 사용해야 한다. 만약 문자열 포멧팅 후 표준 출력으로 출력하는 것이 목표라면 `System.out.printf()` 메소드를 사용하는 것이 낫다.
- 직관성 낮음. 출력 문자열(`String.format()` 메소드의 첫 번째 인자)만 봐서는 어떤 변수가 어느 위치에 나오는지 한눈에 보기 힘들다.
- 실수 확률 높음. 인자의 개수를 잘못 맞추거나 인자의 위치를 잘못 설정하거나, 잘못된 형식 문자를 사용한다면 원하는 대로 출력되지 않는다.
- 표현력 높음. 형식 문자는 다양한 포멧으로의 출력을 가능하게 해 준다.

# 자바스크립트 (Javascript)

## + 연산자를 이용하는 방법

자바스크립트에서는 `+` 연산자를 이용하면 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight javascript %}
let a = 5;
let b = 3;

console.log("a = " + a + ", b = " + b);
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

자바스크립트에서는 `+` 연산자에 하나 이상의 문자열을 피연산자로 주면 `+` 연산자는 산술 덧셈(arithmetic addition)이 아닌 문자열 합치기 연산(concatenation)을 수행힌다. 문자열 합치기 연산 수행 시 피연산자로 문자열이 아닌 변수/상수가 입력되었을 경우 이를 문자열로 변환한 후(`String()` 메소드가 호출되어 문자열로 변환된다) 문자열 합치기 연산을 수행하게 된다.

이 방법은 다음과 같은 특징이 있다.

- 번잡성 중간. 따옴표(`"`), `+` 등을 계속 사용해야 해 코드가 옆으로 길어진다.
- 직관성 중간. 코드를 보면 대충 어떤 값이 어떤 순서로 출력될지는 보이나, 번잡성이 낮지 않아 한 눈에 알아보기는 힘들다.
- 실수 확률 중간.
- 표현력 낮음. 소숫점 자리수와 같은 포멧팅을 하고 싶으면 변수 하나하나에 대해 포멧팅을 해야 한다(아래 코드 참조).

{% highlight javascript %}
let pi = 3.141592;
let speed_of_light = 299792458;

console.log("pi = " + pi.toFixed(2));
console.log("speed of light = " + speed_of_light.toExponential(2));
{% endhighlight %}

{: .code-result }
{% highlight text %}
pi = 3.14
speed of light = 3.00e+8
{% endhighlight %}

## 템플릿 리터럴(template literal)을 이용하는 방법★

ES6 이상의 자바스크립트에서는 템플릿 리터럴(template literal)을 이용하면 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight javascript %}
let a = 5;
let b = 3;

console.log(`a = ${a}, b = ${b}`);
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

템플릿 리터럴이란 백틱(`` ` ``)으로 감싸진 문자열을 뜻한다. 이 문법은 ES6부터 추가되었다. 템플릿 리터럴에서 `${...}`의 `...` 부분에 출력하고자 하는 식(expression)(ex. `${a + b}`, `${a.toFixed(2)}` 등)을 입력하면 아주 쉽게 문자열에 변수를 넣을 수 있다.

이 방법은 다음과 같은 특징이 있다.

- 번잡성 낮음.
- 직관성 높음.
- 실수 확률 낮음.
- 표현력 낮음. 소숫점 자리수와 같은 포멧팅을 하고 싶으면 변수 하나하나에 대해 포멧팅을 해야 한다.

# python

## + 연산자를 이용하는 방법

파이썬에서는 `+` 연산자를 이용하면 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight python %}
a = 5
b = 3

print("a = " + str(a) + ", b = " + str(b))
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

파이썬에서는 `+` 연산자에 문자열을 피연산자로 주면 `+` 연산자는 산술 덧셈(arithmetic addition)이 아닌 문자열 합치기 연산(concatenation)을 수행힌다. 만약 입력받은 피연산자가 하나는 문자열이고 다른 하나는 문자열이 아닌 경우 오류가 발생한다. 따라서 `str()` 함수를 이용해 반드시 변수를 문자열로 변환한 후 문자열 합치기 연산을 수행해야 한다.

이 방법은 다음과 같은 특징이 있다.

- 번잡성 중간. 따옴표(`"`), `+`, `str()` 함수 등을 계속 사용해야 해 코드가 옆으로 길어진다.
- 직관성 중간. 코드를 보면 대충 어떤 값이 어떤 순서로 출력될지는 보이나, 번잡성이 낮지 않아 한 눈에 알아보기는 힘들다.
- 실수 확률 높음. `str()` 함수를 호출하는 것을 깜빡하는 실수를 많이 한다.
- 표현력 낮음. 소숫점 자리수와 같은 포멧팅을 하고 싶으면 변수 하나하나에 대해 포멧팅을 해야 한다.

## %-포멧팅을 이용하는 방법

파이썬에서는 `%` 연산자와 형식 문자(format string)를 이용하면 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight python %}
a = 5
b = 3

print("a = %d, b = %d" % (a, b))
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

`%` 연산자의 왼쪽에 형식 문자를 담고 있는 문자열을, 오른쪽에 형식 문자를 채울 변수들을 순서대로 담고 있는 튜플(tuple)을 입력하면 된다. 이 방법은 파이썬 2부터 지원되던 유서깊은 방법이다.

이 방법은 다음과 같은 특징이 있다.

- 번잡성 높음. 인자들을 죽 나열하는 방식이다 보니 코드가 (옆으로) 길어진다.
- 직관성 낮음. 출력 문자열(`%` 연산자의 왼쪽 피연산자)만 봐서는 어떤 변수가 어느 위치에 나오는지 한눈에 보기 힘들다.
- 실수 확률 높음. 인자의 개수를 잘못 맞추거나 인자의 위치를 잘못 설정하거나, 잘못된 형식 문자를 사용한다면 원하는 대로 출력되지 않는다.
- 표현력 높음. 형식 문자는 다양한 포멧으로의 출력을 가능하게 해 준다.

## str.format() 메소드를 이용하는 방법

파이썬에서는 `str.format()` 메소드를 이용하면 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight python %}
a = 5
b = 3

print("a = {}, b = {}".format(a, b))
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

변수값이 출력되어야 할 위치에 `{}`를 입력한 문자열의 `format()` 메소드를 실행하면 `format()` 메소드의 인자들이 문자열의 `{}`를 앞에서부터 하나씩 대치해 나가는 방식으로 동작한다. 이때 중괄호(`{}`) 안에 숫자를 넣을 수도 있는데, 이렇게 되면 `{}`는 해당 숫자번째에 위치한 인자로 대치된다(숫자는 0부터 시작한다). 또는 중괄호 안에 매개변수명(parameter name)을 넣을 수도 있는데, 이렇게 되면 `{}`은 `format()` 메소드에 해당 매개변수명으로 입력된 변수로 대치된다. 이 방법들을 사용하면 같은 변수를 여러 번 출력할 때 여러 번 인자를 주지 않아도 되고, 인자를 제공하는 순서를 바꿀 수도 있다. 또한 `{}` 안에 콜론(`:`)을 입력하고 형식 문자를 입력하면 소숫점 몇째자리까지 출력하는 등의 포멧팅도 가능하다. 다음 예제를 참고하자.

{% highlight python %}
a = 5
b = 3
pi = 3.141592
x = 1234567

print("a = {1}, a = {1}, b = {0}".format(b, a))  # 숫자 사용
print("a = {var1}, b = {var2}".format(var1=a, var2=b))  # 매개변수명 사용

print("pi = {}".format(pi))  # 그냥 출력
print("pi = {:.2f}".format(pi))  # 소숫점 둘째자리까지 출력

print("x = {:0<10}".format(x))  # 10칸에 맞춰 출력. 빈칸에는 0을 채우고 숫자는 왼쪽 정렬.
print("x = {: >10}".format(x))  # 10칸에 맞춰 출력. 빈칸에는 공백을 채우고 숫자는 오른쪽 정렬.
print("x = {:,}".format(x))  # (3자리마다)콤마 찍기
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, a = 5, b = 3
a = 5, b = 3
pi = 3.141592
pi = 3.14
x = 1234567000
x =    1234567
x = 1,234,567
{% endhighlight %}

이 방법은 다음과 같은 특징이 있다.

- 번잡성 조금 높음. 인자들을 죽 나열하는 방식이다 보니 코드가 (옆으로) 길어진다. 다만 `{}` 안에 숫자를 입력하게 되면 한 변수를 여러 번 출력해야 할 때 한 번만 입력할 수 있으므로 조금은 낫다.
- 직관성 조금 낮음. 출력 문자열만 봐서는 어떤 변수가 어느 위치에 나오는지 한눈에 보기 힘들다. 다만 `{}` 안에 숫자를 입력해 몇 번째 인자를 받을지를 명시하면 직관성이 조금은 올라간다. `{}` 안에 매개변수명을 입력하면 직관성이 상당히 올라간다.
- 실수 확률 조금 높음. 인자의 개수를 잘못 맞추거나 인자의 위치를 잘못 설정하는 실수를 할 수 있다. 다만 `{}` 안에 숫자를 입력해 몇 번째 인자를 받을지를 명시하면 실수할 확률이 조금은 내려간다. `{}` 안에 매개변수명을 입력하면 실수할 확률이 상당히 내려간다.
- 표현력 높음. `{}` 안에 `:`을 쓰고 형식 문자를 입력하면 소숫점 몇째자리까지 출력하는 등의 포멧팅을 할 수 있다.

## f-string을 이용하는 방법★

파이썬 3.6 이상부터는 f-string을 이용하면 문자열 안에 변수를 넣어 출력할 수 있다.

{% highlight python %}
a = 5
b = 3

print(f"a = {a}, b = {b}")
{% endhighlight %}

{: .code-result }
{% highlight text %}
a = 5, b = 3
{% endhighlight %}

f-string은 위 코드와 같이 `f"..."` 형태의 문자열을 뜻한다. 앞의 f는 formatting의 약자이다. 참고로 대문자를 입력해도 작동하나(`F"..."`) 일반적으로는 소문자를 이용한다. `{...}`의 `...` 부분에 출력하고자 하는 식(expression)(ex. `{a + b}`, `{a.some_function()}` 등)을 입력하면 아주 쉽게 문자열에 변수를 넣을 수 있다.

참고로 f-string을 사용할 때 딕셔너리의 값을 참조하기 위해 f-string을 감싸고 있는 따옴표와 같은 종류의 따옴표를 사용하면 오류가 난다(따옴표를 만나면 f-string이 끊긴다). 서로 다른 따옴표를 사용해야 문법 오류가 나지 않는다(아래 코드 참조).

{% highlight python %}
x = {"first": 1, "second": 2}

print(f"first = {x["first"]}, second = {x["second"]}")  # 문법 오류!
print(f'first = {x["first"]}, second = {x["second"]}')  # 정상 출력
{% endhighlight %}

{: .code-result }
{% highlight text %}
first = 1, second = 2
{% endhighlight %}

이 방법은 다음과 같은 특징이 있다.

- 번잡성 낮음.
- 직관성 높음.
- 실수 확률 낮음. 다만 상술한 것처럼 딕셔너리의 값을 참조할 때 따옴표 실수를 하는 경우가 종종 생긴다.
- 표현력 낮음. 소숫점 자리수와 같은 포멧팅을 하고 싶으면 변수 하나하나에 대해 포멧팅을 해야 한다.